{% extends "base.html" %}

{% block title %}–ü—Ä–æ—Ñ—ñ–ª—å: {{ user.username }}{% endblock %}

{% block content %}
<div class="card">
    <div class="card-header">
        <h1 class="card-title">{{ user.get_display_name() }}</h1>
        <p class="card-subtitle">@{{ user.username }}</p>
    </div>

    {% if user.about %}
        <div style="margin-bottom: 24px;">
            <p>{{ user.about }}</p>
        </div>
    {% endif %}

    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; margin-bottom: 24px;">
        <div>
            <strong>–ó–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–æ:</strong><br>
            <span class="text-muted">{{ user.registered_at.strftime('%d.%m.%Y') }}</span>
        </div>
        <div>
            <strong>–ü–æ—Å—Ç—ñ–≤:</strong><br>
            <span class="text-muted">{{ posts|length }}</span>
        </div>
        <div>
            <strong>–ü–µ—Ä–µ–≥–ª—è–¥—ñ–≤:</strong><br>
            <span class="text-muted">{{ total_views }}</span>
        </div>
    </div>
</div>

<div class="card">
    <h2 class="card-title">–ü—É–±–ª—ñ–∫–∞—Ü—ñ—ó –∞–≤—Ç–æ—Ä–∞</h2>
    
    {% if posts %}
        <div class="posts-grid">
            {% for post in posts %}
                <a href="{{ url_for('posts.view_post', slug=post.slug) }}" class="post-card">
                    <h2 class="post-card-title">{{ post.title }}</h2>
                    {% if post.summary %}
                        <p class="post-card-summary">
                            {{ post.summary }}
                            {% if post.ai_generated %}
                                <span style="font-size: 11px; color: var(--primary); margin-left: 4px;">ü§ñ</span>
                            {% endif %}
                        </p>
                    {% endif %}
                    <div class="post-card-meta">
                        <span>üìÖ {{ post.published_at.strftime('%d.%m.%Y') }}</span>
                        <span>üëÅÔ∏è {{ post.view_count }}</span>
                    </div>
                </a>
            {% endfor %}
        </div>
    {% else %}
        <p class="text-muted text-center">–£ —Ü—å–æ–≥–æ –∞–≤—Ç–æ—Ä–∞ –ø–æ–∫–∏ —â–æ –Ω–µ–º–∞—î –ø—É–±–ª—ñ–∫–∞—Ü—ñ–π</p>
    {% endif %}
</div>
{% endblock %}

