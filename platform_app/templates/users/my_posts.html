{% extends "base.html" %}

{% block title %}–ú–æ—ó –ø–æ—Å—Ç–∏{% endblock %}

{% block content %}
<div class="card">
    <div class="card-header">
        <h1 class="card-title">–ú–æ—ó –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó</h1>
        <a href="{{ url_for('posts.show_create') }}" class="btn btn--primary btn--small">+ –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–∏–π –ø–æ—Å—Ç</a>
    </div>

    {% if posts %}
        <div class="posts-grid">
            {% for post in posts %}
                <div class="post-card" style="position: relative;">
                    <a href="{{ url_for('posts.view_post', slug=post.slug) }}" style="text-decoration: none; color: inherit;">
                        <h2 class="post-card-title">{{ post.title }}</h2>
                        {% if post.summary %}
                            <p class="post-card-summary">{{ post.summary }}</p>
                        {% endif %}
                        <div class="post-card-meta">
                            <span>üìÖ {{ post.published_at.strftime('%d.%m.%Y') }}</span>
                            <span>üëÅÔ∏è {{ post.view_count }}</span>
                            <span>{% if post.is_published %}‚úÖ –û–ø—É–±–ª—ñ–∫–æ–≤–∞–Ω–æ{% else %}‚è∏Ô∏è –ß–µ—Ä–Ω–µ—Ç–∫–∞{% endif %}</span>
                        </div>
                    </a>
                    <div style="margin-top: 12px; padding-top: 12px; border-top: 1px solid var(--border);">
                        <a href="{{ url_for('posts.show_edit', slug=post.slug) }}" class="btn btn--outline btn--small">–†–µ–¥–∞–≥—É–≤–∞—Ç–∏</a>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="text-center">
            <p class="text-muted mb-2">–£ –≤–∞—Å –ø–æ–∫–∏ —â–æ –Ω–µ–º–∞—î –ø–æ—Å—Ç—ñ–≤</p>
            <a href="{{ url_for('posts.show_create') }}" class="btn btn--primary">–°—Ç–≤–æ—Ä–∏—Ç–∏ –ø–µ—Ä—à–∏–π –ø–æ—Å—Ç</a>
        </div>
    {% endif %}
</div>
{% endblock %}

